/**********************************************************************************************************************
 *  FILE DESCRIPTION
 *  -----------------------------------------------------------------------------------------------------------------*/
/**        \file  Thermometer.c 
 *        \brief  This Application is simply a Thermometer used to measure Temperature and Showing it on The LCD
 *
 *********************************************************************************************************************/

/**********************************************************************************************************************
 *  INCLUDES
 *********************************************************************************************************************/
#include "Thermometer.h"
#include "DS18B20_Core.h"
#include "Smart_Home.h"

/**********************************************************************************************************************
*  LOCAL MACROS CONSTANT\FUNCTION
*********************************************************************************************************************/

/**********************************************************************************************************************
 *  LOCAL DATA 
 *********************************************************************************************************************/

/**********************************************************************************************************************
 *  GLOBAL DATA
 *********************************************************************************************************************/
static uint8 Temp; // Temperature Measured is Stored Here
/**********************************************************************************************************************
 *  LOCAL FUNCTION PROTOTYPES
 *********************************************************************************************************************/

/**********************************************************************************************************************
 *  LOCAL FUNCTIONS
 *********************************************************************************************************************/

/**********************************************************************************************************************
 *  GLOBAL FUNCTIONS
 *********************************************************************************************************************/
/******************************************************************************
* \Syntax          : void Thermometer_Start(void)
* \Description     : This Routine Starts The Thermometer Application
* \Parameters	   : None
* \Return value:   : None
*******************************************************************************/
void Thermometer_Start(void){
	Bluetooth_Select_Variable(&App_state);
	Bluetooth_Start_Receiving();
	while(App_state != GO_BACK){
		Temp =DS18B20_GetTemp();
		LCD_GoTo(0,0);
		LCD_WriteString("Temp = ");
		LCD_WriteInteger(Temp);
		LCD_WriteChar(CELSIUS_ICON);
		LCD_WriteString("C");
		LCD_WriteString("  ");
		LCD_WriteChar(TEMPRATURE_ICON);
		LCD_WriteString("    ");
		if (App_state == GO_BACK)
		{
			Bluetooth_Check_DataReceived();
			Bluetooth_Stop_Receiving();
		}
	}
	App_state = SELECT_APP1;
	LCD_Clear();
}



/**********************************************************************************************************************
 *  END OF FILE: Thermometer.c 
 *********************************************************************************************************************/

